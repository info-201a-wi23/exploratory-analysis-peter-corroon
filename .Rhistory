ms_df <- read.csv("shootingsdataset.csv")
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE)
View(ms_data)
View(ms_df)
#Load in necessary libraries
library("dplyr")
library("tidyverse")
ms_df[ms_df == "-"] <- NA
ms_df[ms_df == "Unknown"] <- NA
ms_df[ms_df == "TBD"] <- NA
View(ms_df)
summary_info <- list()
summary_info$num_mass_shootings <- nrow(ms_df)
summary_info$num_mass_shootings
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
nrow(ms_df)
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023")
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
pull(nrow(ms_df))
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023")
summary_info$num_mass_shootings
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
nrow(num_mass_shootings)
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
nrow(summary_info)
summary_info$num_mass_shootings <- ms_df %>%
nrow(filter(year != "2023"))
summary_info$num_mass_shootings <- ms_df %>%
nrow(filter(year != "2023"))
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
nrow()
summary_info$num_mass_shootings
summary_info
summary_info$year_most_incidents <- ms_df %>%
group_by(year) %>%
filter(total_victims == max(total_victims)) %>%
pull(total_victims)
summary_info$year_most_incidents
summary_info$year_most_incidents <- ms_df %>%
group_by(year) %>%
filter(total_victims == max(total_victims)) %>%
pull(year)
summary_info$year_most_incidents
summary_info$year_most_incidents <- ms_df %>%
filter(total_victims == max(total_victims)) %>%
pull(year)
summary_info$year_most_incidents
summary_info$year_most_incidents <- ms_df %>%
filter(sum_victims == max(total_victims)) %>%
pull(year) %>%
pull()
summary_info$year_most_incidents <- ms_df %>%
filter(total_victims == max(total_victims)) %>%
pull(year) %>%
pull(sum(total_victims))
summary_info$year_most_incidents <- ms_df %>%
filter(total_victims == max(total_victims)) %>%
pull(total_victims)
summary_info$year_most_incidents
summary_info$year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
pull(year)
summary_info$year_most_incidents
summary_info$year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
pull(n())
summary_info$year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
pull(total_victims)
summary_info$year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
pull(total_victims)
summary_info$year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n())
summary_info$year_most_incidents
View(year_most_incidents)
year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n())
View(year_most_incidents)
year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count)) %>%
pull(year)
year_most_incidents
year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count))
year_most_incidents
summary_info$year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count)) %>%
pull(year)
summary_info
ms_df[ms_df == "TK"] <- 4
View(ms_df)
summary_info$year_most_incidents <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count)) %>%
pull(year)
summary_info$year_most_incidents
summary_info$year_most_shootings <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count)) %>%
pull(year)
source("~/Desktop/UW/Winter_23/INFO_201/final_project/exploratory-analysis-peter-corroon/summary-information.R", echo=TRUE)
summary_info$num_deaths <- ms_df %>%
filter(year != "2023")
summary_info$num_deaths
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summmarize(total_fatalities = sum(fatalities))
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
#Calculate the total number of fatalities from these shootings up to the year 2023
summary_info$num_fatalities
summary_info
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
pull(fatalities)
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
summary_info$num_fatalities
summary_info
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
summary_info
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
summary_info$num_fatalities
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
nrow()
summary_info$num_mass_shootings
summary_info$year_most_shootings <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count)) %>%
pull(year)
summary_info$year_most_shootings
summary_info$location_most_shootings<- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count)) %>%
pull(year)
summary_info$location_most_shootings
summary_info <- list()
summary_info
summary_info
summary_info <- list()
summary_info
summary_info <- list(
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
nrow()
)
summary_info
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
nrow()
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
summary_info
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
pull(fatalities)
summary_info <- list()
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
nrow()
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
summary_info$year_most_shootings <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count)) %>%
pull(year)
summary_info$year_most_shootings <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count)) %>%
pull(year) %>%
pull(count)
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
summary_info$num_fatalities
summary_info$year_most_shootings <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count))
summary_info$year_most_shootings
summary_info
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
pull(nrow())
summary_info$num_mass_shootings <- ms_df %>%
filter(year != "2023") %>%
nrow()
summary_info$num_fatalities <- ms_df %>%
filter(year != "2023") %>%
summarize(total_fatalities = sum(fatalities))
summary_info$num_fatalities
summary_info$year_most_shootings <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count))
summary_info$year_most_shootings
summary_info$year_most_shootings <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count))
summary_info$year_most_shootings
summary_info$location_most_shootings <- ms_df %>%
group_by(location.1) %>%
summarize(count = n()) %>%
filter(count == max(count)) %>%
summary_info$location_most_shootings <- ms_df %>%
group_by(location.1) %>%
summarize(count = n()) %>%
filter(count == max(count))
summary_info$year_most_shootings <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count))
summary_info$location_most_shootings <- ms_df %>%
group_by(year) %>%
summarize(count = n()) %>%
filter(count == max(count))
summary_info$location_most_shootings <- ms_df %>%
group_by(location.1) %>%
summarize(count = n()) %>%
filter(count == max(count))
summary_info$location_most_shootings
summary_info$location_most_shootings <- ms_df %>%
filter(year != "2023") %>%
filter(location.1 == "school")
summary_info$location_most_shootings
summary_info$location_most_shootings <- ms_df %>%
filter(year != "2023") %>%
filter(location.1 == "school")
nrow()
summary_info$location_most_shootings <- ms_df %>%
filter(year != "2023") %>%
filter(location.1 == "school") %>%
summarize(count = n()) %>%
filter(count == max(count))
summary_info$location_most_shootings
summary_info$location_most_shootings <- ms_df %>%
filter(year != "2023") %>%
filter(location.1 == "school") %>%
summarize(count = n())
summary_info$location_most_shootings
summary_info$location_most_shootings <- ms_df %>%
filter(year != "2023") %>%
filter(location.1 == "school")
summary_info$location_most_shootings
summary_info$case_most_victims <- ms_df %>%
filter(year != "2023") %>%
filter(total_victims == max(total_victims))
summary_info$case_most_victims
summary_info$case_most_victims <- ms_df %>%
filter(year != "2023") %>%
filter(total_victims == max(total_victims)) %>%
pull(case)
summary_info$case_most_victims
summary_info$case_most_victims <- ms_df %>%
filter(total_victims == max(total_victims)) %>%
pull(case)
summary_info$case_most_victims
summary_info$case_most_victims <- ms_df %>%
filter(total_victims == max(fatalities)) %>%
pull(case)
summary_info$case_most_victims
summary_info$case_most_victims <- ms_df %>%
filter(fatalities == max(fatalities)) %>%
pull(case)
summary_info$case_most_victims
summary_info$case_most_victims <- ms_df %>%
filter(fatalities == max(fatalities))
summary_info$case_most_victims
summary_info$case_most_victims <- ms_df %>%
filter(fatalities == max(fatalities)) %>%
pull(case, fatalities)
summary_info$case_most_victims
summary_info$case_most_victims <- ms_df %>%
filter(fatalities == max(fatalities)) %>%
pull(case, total_victims)
summary_info$case_most_victims
summary_info$percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
filter(weapon_type == "semiautomatic")
summary_info$percent_semiauto
summary_info$percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
filter(weapon_type == str_detect("semiautomatic"))
summary_info$percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
group_by(weapon_type) %>%
str_detect("semiautomatic")
summary_info$percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
group_by(weapon_type == grep("semiautomatic"))
summary_info$percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
filter(weapon_type == grep("semiautomatic"))
summary_info$percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
grep("semiautomatix")
summary_info$percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
grep("semiautomatic", weapon_type)
summary_info$percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
grep("semiautomatic", ms_df$weapon_type)
summary_info$percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
filter(grepl('semiautomatic', weapon_type))
summary_info$percent_semiauto
percent_semiauto <- ms_df %>%
filter(year != "2023") %>%
filter(grepl('semiautomatic', weapon_type)) %>%
nrow()
percent_semiauto
summary_info$num_mass_shootings
summary_info$mental_health <- ms_df %>%
filter(year != "2023") %>%
filter(prior_signs_mental_health_issues == "Yes") %>%
nrow()
summary_info$mental_health
#Calculating 5 summary values
#Load in the data set
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE)
View(ms_df)
#Load in necessary libraries
library("dplyr")
library("tidyverse")
library("ggplot2")
#Add NA where there are missing values in the dataset
ms_df[ms_df == "-"] <- NA
ms_df[ms_df == "Unknown"] <- NA
ms_df[ms_df == "TBD"] <- NA
ms_df[ms_df == "TK"] <- 4
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE) %>%
filter(year != "2023")
View(ms_df)
summary_info$num_mass_shootings <- ms_df %>%
nrow()
summary_info$num_mass_shootings
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE)
filter(year != "2023")
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE)
filter(year != "2023")
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE) %>%
filter(year != "2023")
agg_table <- ms_df %>%
select(year, total_victims, injured, fatalities) %>%
arrange(desc(fatalities)) %>%
slice_head(n = 5)
agg_table
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE) %>%
filter(year != "2023")
library("dplyr")
library("tidyverse")
library("ggplot2")
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE) %>%
filter(year != "2023")
ms_df[ms_df == "-"] <- NA
ms_df[ms_df == "Unknown"] <- NA
ms_df[ms_df == "TBD"] <- NA
ms_df[ms_df == "TK"] <- 4
year_counts <- ms_df %>%
group_by(year)
year_counts <- ms_df %>%
group_by(year) %>%
filter(fatalities == max(fatalities))
year_counts <- ms_df %>%
group_by(year) %>%
filter(fatalities == sum(fatalities))
year_counts
View(year_counts)
year_counts <- ms_df %>%
group_by(year) %>%
summarize(fatalities = sum(fatalities))
View(year_counts)
source("~/Desktop/UW/Winter_23/INFO_201/final_project/exploratory-analysis-peter-corroon/aggregated-data-table.R", echo=TRUE)
year_counts <- ms_df %>%
group_by(year) %>%
summarize(fatalities = sum(fatalities)) %>%
sumarize(total_victims = sum(total_victims))
year_counts <- ms_df %>%
group_by(year) %>%
summarize(fatalities = sum(fatalities)) %>%
summarize(total_victims = sum(total_victims))
year_counts <- ms_df %>%
group_by(year) %>%
summarize(fatalities = sum(fatalities)) %>%
summarize(total_victims = sum(total_victims))
year_counts <- ms_df %>%
group_by(year) %>%
filter(fatalities == summarize(fatalities = sum(fatalities)))
year_counts <- ms_df %>%
group_by(year) %>%
summarize(fatalities = sum(fatalities))
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE) %>%
filter(year != "2023")
library("dplyr")
library("tidyverse")
library("ggplot2")
ms_df <- read.csv("~/Desktop/mass-shootings.csv", stringsAsFactors = FALSE) %>%
filter(year != "2023")
ms_df[ms_df == "-"] <- NA
ms_df[ms_df == "Unknown"] <- NA
ms_df[ms_df == "TBD"] <- NA
ms_df[ms_df == "TK"] <- 4
year_counts <- ms_df %>%
group_by(year) %>%
summarize(fatalities = sum(fatalities))
View(year_counts)
year_counts <- ms_df %>%
group_by(year) %>%
summarize(total_victims = sum(total_victims))
year_counts <- ms_df %>%
group_by(year) %>%
summarize(total_victims = sum(total_victims))
year_counts <- ms_df %>%
group_by(year) %>%
summarize(total_victims = sum(total_victims, na.rm = TRUE))
